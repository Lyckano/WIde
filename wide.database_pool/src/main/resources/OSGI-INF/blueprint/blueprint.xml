<?xml version="1.0" encoding="UTF-8"?>
<!--
 * Copyright (c) 2013 - 2014 Naios <naios-dev@live.de>
 *
 * This file is part of WIde which is released under Creative Commons 4.0 (by-nc-sa)
 * See file LICENSE for full license details.
 -->

<blueprint default-activation="eager" default-availability="optional"
	default-timeout="300000" xmlns="http://www.osgi.org/xmlns/blueprint/v1.0.0">

    <description>WIde - MMORPG Framework Tools</description>

    <bean id="databasePool" class="com.github.naios.wide.database_pool.internal.DatabasePoolServiceImpl"
          init-method="open" destroy-method="close"/>

    <reference id="configService" availability="mandatory" interface="com.github.naios.wide.configuration.ConfigService">
        <reference-listener ref="databasePool" bind-method="bindConfig" unbind-method="unbindConfig"/>
    </reference>

    <service id="databasePoolService" ref="databasePool"
             interface="com.github.naios.wide.database_pool.DatabasePoolService"
             depends-on="configService"/>

</blueprint>
